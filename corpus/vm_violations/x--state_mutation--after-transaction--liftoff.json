{
	"class": "message",
	"selector": {
		"chaos_actor": "true"
	},
	"hints": [
		"incorrect",
		"negate"
	],
	"_meta": {
		"id": "after-transaction",
		"version": "v1",
		"description": "test an actor cannot ILLEGALLY mutate state acquired for transaction but used after the transaction has ended",
		"comment": "should abort with SysErrorIllegalActor, not succeed with Ok, see https://github.com/filecoin-project/lotus/issues/3545",
		"gen": [
			{
				"source": "genscript",
				"version": "0d5ef62cb88342a925b73926db33b05510a10738"
			},
			{
				"source": "github.com/filecoin-project/lotus",
				"version": "v1.1.4-0.20201117223607-62594a97a5b5"
			},
			{
				"source": "github.com/filecoin-project/specs-actors",
				"version": "v0.9.13"
			},
			{
				"source": "github.com/filecoin-project/specs-actors/v2",
				"version": "v2.3.2"
			}
		]
	},
	"car": "H4sIAAAAAAAA/0pflFqUn19S3HRDK0KdgbFwwRMmhWDH6sPVX7n4CuNnpzps/bqqnJ21wd9V7duBuXu4zlybeh1J6R8jtpUmM67Flvx15p1dcpHJ/+S7BLm1v6YWOwd2HNu/Pie9LLWoODM/j7GOOKObGZEM1z4+8dFrxtmm4dtLV9RENKotmH6PlyloheWcg/MNdCu4ZyEpdd1w/pDCuTfRNTJJR65I2lo8eb2kr0O0aM7z+DlcG54cPLCNjTgjm1xafPgZOhcmGjY2OTGwtdzQipBmYAxlEEvLzNE30i9LLcpMy0xNKUpNzywuKapEcgHHzaQtxRJCRV+mHdESdfsreGr1M8v9e/fZnjo/wXrr6rYDDA5QQ1labmiFg8wUgphZXJJflJieWpBfnlqEZF7+5reMz35zPDv4L/iTmZryA5dkluaHb26zscxhLpyd+HE33LyklhtaASDzuEHmGeonZyTmFyMZNL0n/cuNpVqMUlOy6z4ZnC2Ks3HOld5zvnOm+49gtdquOWCDmpqcGJhbbmj5gwzigjgsuSg/D8mc1Iu3rqdMOnP1goBk7aHsq7/ZD5xvPXNn/SeBlgNXqv+KRzI4NDkxJLfc0AoCmcELMSMxOTm/NK8EyZj7riXHNi/cmXViz4YpW6bXTNbsrci58P7XpkvPl1yXLp/BBfcXQ8sNrUCQUTzQcKosLknNJSHO4SaxgqJRAmSUMEqQ5yYWZaciuy3qx8ZiU92n67s3WUmzqpm/mCZc9ubHkxtpOdmbF3D0FubCTWREC6rMvExkcxSrTr8zc1wuzfdswpwvW5bf+3rrtL2H+/XzVlannFpzjorCzUkhGFwSk8Xsozm+qc3gzgkMSvmyf4Xgl193bDQ3hmRrWpj7/f3M4Mbw4spSAQaogUxogVaUWp5YlIJknsqGTW6JM0Iq315eGsGxpUmKK1j4+6emLa1L/L4Wm8t1vWTwZWAri6m0X8hQeYGBgcEAd9rHLtrASFx2aHZiCED25r+sM4mLF2fzmNt4WfUt827U/nRqdlBDwIQ5FVc4Qrt4SFCqSZyyJocGDeyZEFNkDyNxebLfAQqaIiQYmO7kMGAB4QzMB7CJMzCQ4EdS1H6TQisbkJiaxBURTQkNEqjlAoJlRFzp0AgqYVhYQbmRUw4jwaNwtIgrKBqdGJJl0IsHZLY6ccVEgxaOggGL0Dom4gqKbqT4eZrabStxlu3h7QmiWza8CT2ovMg3+uErlRuWFkd3WFb765OnlIoZhkbpTsHBwUGPOH81MzA0OzI0ICcyUImKYKUSV642IzlvQkPI4vxVrtOYHzadPimz5InO1j4JqzeRT7jPmy8vmhzLI5FakJyRmJmnW5aYk5mSWJKZn+dFnM4mlwYGBoZGcIkbyug35/4p8Uc7mpzus7bMKtogfOSLcp5Eii1xpXcjdv0y6AU4Mns2I3ElebeDA4Mng4Z4qmL8zwcMXgyM372XWxWyXJncFCEF4iyeVXlvgyt6IRTGKDkta7suujDMoPv/GRx8GRgFfpjfmKIV2MXAwODLwFTz9voSlqR9TgwMDHXENQtRmnnWe9rbZCeIXs5ZaWoXW8ggzGqmbc3yO7D//30Ox6VqUc4kVPl72Igzchg2815M2rHk0+dbX63PZfusiW5yV+cxPcz91ymJ1d0mfR7/Ab3B1sxzYxD3KHvBMNrYI6Gxx+jGcDFgchwNGntV3LNOMUQTl5KaKgzLcuPLMvNzwKVmsX5xSWJJanxuaQmYr5+YVpJapFtSlJhXnJgMEtHNzGsAAAAA//8BAAD//1l113doDgAA",
	"preconditions": {
		"variants": [
			{
				"id": "liftoff",
				"epoch": 148889,
				"nv": 5
			}
		],
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzacebjuc66dpp2qudtrl6nwkqfv6wvhobyfqbhukjxwyco3ycwm22k5o"
			}
		}
	},
	"apply_messages": [
		{
			"bytes": "igBCAGJCAGQAQBo7msoAQgDIQgABCFgygngudm1fdmlvbGF0aW9ucy9zdGF0ZV9tdXRhdGlvbi9hZnRlci10cmFuc2FjdGlvbgI=",
			"epoch_offset": 0
		}
	],
	"postconditions": {
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzaced6debvjgsmnmxlu7vbq3g3u2ebe7spomapk36uvonbvdcggx6xwy"
			}
		},
		"receipts": [
			{
				"exit_code": 0,
				"return": "",
				"gas_used": 385031
			}
		]
	},
	"diagnostics": {
		"format": "Lotus-ExecutionTrace-V1",
		"data": "SDRzSUFBQUFBQUFBLzd5VVgyK2JNQlRGdjh0OXRqU2Jmd0ZMZTVqU2dDSXRYWlJ0MmRTcUQ4WTRRQVU0TllaQW9uejNpVC9aNkJKTm1qYVZwK3ZycS9QakhCc2VUN0FxWTZBbjJBcFZwcklBaWhGOGtVQmhoejBYRVBoSzV2MktZQXdJN21YQlJUKzBaVmtsZ0VMWERWajVNYzFURFpUZ3k5TjNmU0htYkE4VUREek9yWlhJMDZxVEpJQmdKWFFpSTZBdWdqVlRMQytCUWx6RVZaU1RYWlJuZFJqNG1IM3pLdDU2eHlqdzhjUFcwOUgzVFJJRldSMm1YdkpRYkRLZUVzeHp2K0tHLzl6MzQrVjdRREJmM25XKzNnR0ZrTzFhSXp3eUxzSTgzeWM3Y3hlYXJkVTJZUlRIanB4WkwrbzVOUStOMFZvdE8zTDdKWkUxMnp1TkxTckI2d09jejZoTGFjTjFKN2hvVWoyWDBSRENSdWhLRlVDTEtzdDZlMTlMRVFFMVhSdWI1SXhnb1pSVVFBRVEzRldLNlV2Q0FTdm5DVk94S0lFK251Q2U1VjJVbjRwNXd0SmlKY3FTeFFJUVpKSmZ0SFVNbEZpdTY1Z0llTndoK3JJN1BFS0d2T3ZwVEQwWnFxZFRXZ1BGWnpTQkJrSi80RnFxYXlBZVdIamdYQkI0Vk1lajhrM1I0V1NYUlMzNVlQdEszREJkMnhrQVl6bUZqSzE2c3YwS2hrQTBRQ0dGVjlUZXg2SVIvTDk2V2U2ektCRDZXbk5tRzVZeDZJN2xWSnNReXlHekVmQno4VWZLTmhXSFJSSDk2OXNQNFpodkZNMjZ1aEVOTVdkNE5ncTdWbDkySXJiNTY2cGFqdXZoQzhVYWZ4bzlhdHlZZUxIZndzenZkL1pPRmplK3dyOEVQQ0g0WElXY1pWazVxSnlmZmdRQUFQLy9penNtd25ZRg=="
	}
}
