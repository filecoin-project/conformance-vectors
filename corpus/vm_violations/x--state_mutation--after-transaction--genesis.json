{
	"class": "message",
	"selector": {
		"chaos_actor": "true"
	},
	"hints": [
		"incorrect",
		"negate"
	],
	"_meta": {
		"id": "after-transaction",
		"version": "v1",
		"description": "test an actor cannot ILLEGALLY mutate state acquired for transaction but used after the transaction has ended",
		"comment": "should abort with SysErrorIllegalActor, not succeed with Ok, see https://github.com/filecoin-project/lotus/issues/3545",
		"gen": [
			{
				"source": "genscript",
				"version": "0d5ef62cb88342a925b73926db33b05510a10738"
			},
			{
				"source": "github.com/filecoin-project/lotus",
				"version": "v1.1.4-0.20201117223607-62594a97a5b5"
			},
			{
				"source": "github.com/filecoin-project/specs-actors",
				"version": "v0.9.13"
			},
			{
				"source": "github.com/filecoin-project/specs-actors/v2",
				"version": "v2.3.2"
			}
		]
	},
	"car": "H4sIAAAAAAAA/0pflFqUn19S3HRDK0KdgbFwwRMmhe1Wqse59zdF9ASc3iVrIvuys+RmfWySWs7JtBPGsdfcviIprQovn/pi7cr43V/1ZD6d8XrHW348/f0Ns8lzxS/wTJj+WTK9LLWoODM/j3EbG3FmN7m0+PAzdC5MNGxscmJga7mhFSHNwBjKIJaWmaNvqF+WWpSZlpmaUpSanllcUlSJ5BSOm0lbiiWEir5MO6Il6vZX8NTqZ5b79+6zPXV+gvXW1W0HGByghrK03NAKB5kpBDGzuCS/KDE9tSC/PLUIyTxurbYptWd35R9auE7h1fq+lINb5B9OFTyecvn9edtVZ77thpuX1HJDKwBkHjfEvOSMxPxiJIOm96R/ubFUi1FqSnbdJ4OzRXE2zrnSe853znT/EaxW2zUHbFBTkxMDc8sNLX+QQVxQg4ry85DMSb1463rKpDNXLwhI1h7Kvvqb/cD51jN31n8SaDlwpfqveCSDQ5MTQ3LLDa0gkBm8EDMSk5PzS/NKkIy571pybPPCnVkn9myYsmV6zWTN3oqcC+9/bbr0fMl16fIZXHB/MbTc0AoEGcUDDafK4pLUXCSTXDecP6Rw7k10jUzSkSuSthZPXi/p6xAtmvM8fg7XhicHESHOCopGCZBRwihBnptYlJ2K7LaoHxuLTXWfru/eZCXNqmb+Yppw2ZsfT26k5WRvXsDRW5gLN5ERLagy8zKRzVGsOv3OzHG5NN+zCXO+bFl+7+ut0/Ye7tfPW1mdcmrNOSoKNyeFYHBJTBazj+b4pjaDOycwKOXL/hWCX37dsdHcGJKtaWHu9/czgxvDiytLBRigBjKhBVpRanliUQqyeWphcp9ClvEJfjr5ifeR6DWGV2xiN0uiSp79fCRcEH42mcGXga0sptJ+IUPlBQYGBgPcaR+7aAMjcdmh2YkhANlZ/7LOJC5enM1jbuNl1bfMu1H706nZQQ0BE+ZUXOEI7eIhQakmccqaHBo0sGdCTJG9jMTlyQkOUNAUIcHAdCeHAQsIZ2A+gE2cgYEEPzIokKD4mxRa4YDE1CSujGhKaJBALRgQLCPiiodGUBHDwgrKjpxyGCkehaNFXEnR6MSQLINePiCz1YkrJxq0cJQMWITWMRFXUnQjxc/T1G5bibNsD29PEN2y4U3oQeVFvtEPX6ncsLQ4usOy2l+fPKVUzDGkJDwS1Co4ODjoEeevZgaGZkeGBuREBipSEaxU4grWZiTnTWgIWZy/ynUa88Om0ydlljzR2donYfUm8gn3efPlRZNjeSRSC5IzEjPzdMsSczJTEksy8/O8iNPZ5NLAwMDQCC5yQxn95tw/Jf5oR5PTfdaWWUUbhI98Uc6TSLElrvhuxK5fBr0ER2bXE1eSdzo4MHgyCEALFy8Gxu/ey60KWa5MboqQAnEWz6q8t8EVvRAKY5SclrVdF13Yk4H/PwQwOOxhI67xNQzbUi8m7Vjy6fOtr9bnsn3WRDe5q/OYHub+65TE6m6TPo//gN5ga0u5MYh7lL1gGG1RkdCiYnRjuBgwOY4GLaoq7lmnGKKJS0lNFYZlufFlmfk54JKpWL+4JLEkNT63tATM109MK0kt0i0pSswrTkwGiehm5jUAAAAA//8BAAD//xSWNqtODQAA",
	"preconditions": {
		"variants": [
			{
				"id": "genesis",
				"epoch": 1,
				"nv": 0
			},
			{
				"id": "breeze",
				"epoch": 41281,
				"nv": 1
			},
			{
				"id": "ignition",
				"epoch": 94001,
				"nv": 3
			}
		],
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzacec3tujohbo7yewemkdf3uhjudxuys5gzp5owejtmzftmqm252zdpk"
			}
		}
	},
	"apply_messages": [
		{
			"bytes": "igBCAGJCAGQAQBo7msoAQgDIQgABCFgygngudm1fdmlvbGF0aW9ucy9zdGF0ZV9tdXRhdGlvbi9hZnRlci10cmFuc2FjdGlvbgI=",
			"epoch_offset": 0
		}
	],
	"postconditions": {
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzaceb5fo54v5cw2sx536uxbz4wmjlxa256hm7x5qnuttul5adeqs7zrs"
			}
		},
		"receipts": [
			{
				"exit_code": 0,
				"return": "",
				"gas_used": 385031
			}
		]
	},
	"diagnostics": {
		"format": "Lotus-ExecutionTrace-V1",
		"data": "SDRzSUFBQUFBQUFBLzd5VVgyK2JNQlRGdjh0OXRqU2Jmd0ZMZTVqU2dDSXRYWlJ0MmRTcUQ4WTRRQVU0TllaQW9uejNpVC9aNkJKTm1qYVZwK3ZycS9QakhCc2VUN0FxWTZBbjJBcFZwcklBaWhGOGtVQmhoejBYRVBoSzV2MktZQXdJN21YQlJUKzBaVmtsZ0VMWERWajVNYzFURFpUZ3k5TjNmU0htYkE4VUREek9yWlhJMDZxVEpJQmdKWFFpSTZBdWdqVlRMQytCUWx6RVZaU1RYWlJuZFJqNG1IM3pLdDU2eHlqdzhjUFcwOUgzVFJJRldSMm1YdkpRYkRLZUVzeHp2K0tHLzl6MzQrVjdRREJmM25XKzNnR0ZrTzFhSXp3eUxzSTgzeWM3Y3hlYXJkVTJZUlRIanB4WkwrbzVOUStOMFZvdE8zTDdKWkUxMnp1TkxTckI2d09jejZoTGFjTjFKN2hvVWoyWDBSRENSdWhLRlVDTEtzdDZlMTlMRVFFMVhSdWI1SXhnb1pSVVFBRVEzRldLNlV2Q0FTdm5DVk94S0lFK251Q2U1VjJVbjRwNXd0SmlKY3FTeFFJUVpKSmZ0SFVNbEZpdTY1Z0llTndoK3JJN1BFS0d2T3ZwVEQwWnFxZFRXZ1BGWnpTQkJrSi80RnFxYXlBZVdIamdYQkI0Vk1lajhrM1I0V1NYUlMzNVlQdEszREJkMnhrQVl6bUZqSzE2c3YwS2hrQTBRQ0dGVjlUZXg2SVIvTDk2V2U2ektCRDZXbk5tRzVZeDZJN2xWSnNReXlHekVmQno4VWZLTmhXSFJSSDk2OXNQNFpodkZNMjZ1aEVOTVdkNE5ncTdWbDkySXJiNTY2cGFqdXZoQzhVYWZ4bzlhdHlZZUxIZndzenZkL1pPRmplK3dyOEVQQ0g0WElXY1pWazVxSnlmZmdRQUFQLy9penNtd25ZRg=="
	}
}
