{
	"class": "message",
	"selector": {
		"chaos_actor": "true"
	},
	"hints": [
		"incorrect",
		"negate"
	],
	"_meta": {
		"id": "after-transaction",
		"version": "v1",
		"description": "test an actor cannot ILLEGALLY mutate state acquired for transaction but used after the transaction has ended",
		"comment": "should abort with SysErrorIllegalActor, not succeed with Ok, see https://github.com/filecoin-project/lotus/issues/3545",
		"gen": [
			{
				"source": "genscript",
				"version": "fa44b286ba4004f945621bddfaa06f159e526afc"
			},
			{
				"source": "github.com/filecoin-project/lotus",
				"version": "v1.1.4-0.20201117223607-62594a97a5b5"
			},
			{
				"source": "github.com/filecoin-project/specs-actors",
				"version": "v0.9.13"
			},
			{
				"source": "github.com/filecoin-project/specs-actors/v2",
				"version": "v2.3.2"
			}
		]
	},
	"car": "H4sIAAAAAAAA/0pflFqUn19S3HRDK0KdgbFwwRMmhZ+xu2oTO9NkhTXXbykJvem9v8xKfcWPJxe7Q7f+TDuQ+QpJqd9k6aJ3sy2KZ61Xn7O++d+KozVtRVPe71p5iW/r1zd33gill6UWFWfm5zHWEWd0MyOS4ZKPHi84wpBrcpf7Ynra/2zldUv/eN/uVHxgIrFpEc/7bi8kpa4bzh9SOPcmukYm6cgVSVuLJ6+X9HWIFs15Hj+Ha8OTgwe2sRFnZJNLiw8/Q+fCRMPGJicGtpYbWhHSDIyhDGJpmTn6RvplqUWZaZmpKUWp6ZnFJUWVSC7guJm0pVhCqOjLtCNaom5/BU+tfma5f+8+21PnJ1hvXd12gMEBaihLyw2tcJCZQhAzi0vyixLTUwvyy1OLkMzL3/yW8dlvjmcH/wV/MlNTfuCSzNL88M1tNpY5zIWzEz/uhpuX1HJDKwBkHjfIPEP95IzE/GIkg6b3pH+5sVSLUWpKdt0ng7NFcTbOudJ7znfOdP8RrFbbNQdsUFOTEwNzyw0tf5BBXBCHJRfl5yGZk3rx1vWUSWeuXhCQrD2UffU3+4HzrWfurP8k0HLgSvVf8UgGhyYnhuSWG1pBIDN4IWYkJifnl+aVIBlz37Xk2OaFO7NO7NkwZcv0msmavRU5F97/2nTp+ZLr0uUzuOD+Ymi5oRUIMooHGk6VxSWpuSTEOdwkVlA0SoCMEkYJ8tzEouxUZLdF/dhYbKr7dH33JitpVjXzF9OEy978eHIjLSd78wKO3sJcuImMaEGVmZeJbI6pqVrDz5xzOfPin1s0G/WnMabZST12ut96mGvlhAde/lVwc1IIBtdq/Wmrvq5/ufzx1EeCj3kuG29ULuj9nHjGWXLRq+Qbv9WuMbgxvLiyVIABaiATWqAVpZYnFqUgmaeyYZNb4oyQyreXl0ZwbGmS4goW/v6paUvrEr+vxeZyXS8ZfBnYymIq7RcyVF5gYGAwwJ32sYs2MBKXHZqdGAKQnCXxL+tM4uLF2TzmNl5Wfcu8G7U/nZod1BAwYU7FFY7QLh4SlGoSp6zJoUEDeybEFNnDSFye7HeAgqYICQamOzkMWEA4A/MBbOIMDCT4kRS136TQygYkpiZxRURTQoMEarmAYBkRVzo0gkoYFlZQbuSUw0jwKBwt4gqKRieGZBn04gGZrU5cMdGghaNgwCK0jom4gqIbKX6epnbbSpxle3h7guiWDW9CDyov8o1++ErlhqXF0R2W1f765CmlYoahUbpTcHBw0CPOX80MDM2ODA3IiQxUoiJYqcSVq81Izmu483OXodTbL8Jyu5YZVJXdjNtd05Ocx/beK115ytUXrbESqQXJGYmZebpliTmZKYklmfl5XsTpbHJpYGBgaASXuKGMJ16uX6PKu7pDsHLfhnMt22Pf3rz5UyLFlrjSuxG7fhn0AhyZPZuRuJK828GBwZNBQzxVMf7nAwYvBsbv3sutClmuTG6KkAJxFs+qvLfBFb0QCmOUnJa1XRddGGbQ/f8MDr4MjAI/zG9M0QrsYmBg8GVgqnl7fQlL0j4nBgaGOuKahSjNvHSDBGeJm+7yn3Sm2l9VO/jwy+w/C/5krbum4Pf4o8wsa30Sqvw9bMQZOQybeS8m7Vjy6fOtr9bnsn3WRDe5q/OYHub+65TE6m6TPo//gN5ga+a5MYh7lL1gGG3skdDYY3RjuBgwOY4Gjb0q7lmnGKKJS0lNFYZlufFlmfk54FKzWL+4JLEkNT63tATM109MK0kt0i0pSswrTkwGiehm5jUAAAAA//8BAAD//6tccqJoDgAA",
	"preconditions": {
		"variants": [
			{
				"id": "actorsv2",
				"epoch": 138721,
				"nv": 4
			},
			{
				"id": "tape",
				"epoch": 140761,
				"nv": 5
			},
			{
				"id": "liftoff",
				"epoch": 148889,
				"nv": 5
			}
		],
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzaced4v3ot5mgewmhitfgx3i5cv3ff365r2e6uprzgrrnk3l6lgybu6u"
			}
		}
	},
	"apply_messages": [
		{
			"bytes": "igBCAGJCAGQAQBo7msoAQgDIQgABCFgygngudm1fdmlvbGF0aW9ucy9zdGF0ZV9tdXRhdGlvbi9hZnRlci10cmFuc2FjdGlvbgI=",
			"epoch_offset": 0
		}
	],
	"postconditions": {
		"state_tree": {
			"root_cid": {
				"/": "bafy2bzacebhjgg3s52ntq442v4tzzl4d72umk7egokko7ovj2ihll5pm3twbe"
			}
		},
		"receipts": [
			{
				"exit_code": 0,
				"return": "",
				"gas_used": 385031
			}
		]
	},
	"diagnostics": {
		"format": "Lotus-ExecutionTrace-V1",
		"data": "SDRzSUFBQUFBQUFBLzd5VVgyK2JNQlRGdjh0OXRqU2Jmd0ZMZTVqU2dDSXRYWlJ0MmRTcUQ4WTRRQVU0TllaQW9uejNpVC9aNkJKTm1qYVZwK3ZycS9QakhCc2VUN0FxWTZBbjJBcFZwcklBaWhGOGtVQmhoejBYRVBoSzV2MktZQXdJN21YQlJUKzBaVmtsZ0VMWERWajVNYzFURFpUZ3k5TjNmU0htYkE4VUREek9yWlhJMDZxVEpJQmdKWFFpSTZBdWdqVlRMQytCUWx6RVZaU1RYWlJuZFJqNG1IM3pLdDU2eHlqdzhjUFcwOUgzVFJJRldSMm1YdkpRYkRLZUVzeHp2K0tHLzl6MzQrVjdRREJmM25XKzNnR0ZrTzFhSXp3eUxzSTgzeWM3Y3hlYXJkVTJZUlRIanB4WkwrbzVOUStOMFZvdE8zTDdKWkUxMnp1TkxTckI2d09jejZoTGFjTjFKN2hvVWoyWDBSRENSdWhLRlVDTEtzdDZlMTlMRVFFMVhSdWI1SXhnb1pSVVFBRVEzRldLNlV2Q0FTdm5DVk94S0lFK251Q2U1VjJVbjRwNXd0SmlKY3FTeFFJUVpKSmZ0SFVNbEZpdTY1Z0llTndoK3JJN1BFS0d2T3ZwVEQwWnFxZFRXZ1BGWnpTQkJrSi80RnFxYXlBZVdIamdYQkI0Vk1lajhrM1I0V1NYUlMzNVlQdEszREJkMnhrQVl6bUZqSzE2c3YwS2hrQTBRQ0dGVjlUZXg2SVIvTDk2V2U2ektCRDZXbk5tRzVZeDZJN2xWSnNReXlHekVmQno4VWZLTmhXSFJSSDk2OXNQNFpodkZNMjZ1aEVOTVdkNE5ncTdWbDkySXJiNTY2cGFqdXZoQzhVYWZ4bzlhdHlZZUxIZndzenZkL1pPRmplK3dyOEVQQ0g0WElXY1pWazVxSnlmZmdRQUFQLy9penNtd25ZRg=="
	}
}
